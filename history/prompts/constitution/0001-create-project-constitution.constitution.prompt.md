---
id: "0001"
title: "Create project constitution"
stage: "constitution"
date: "2025-12-30"
surface: "agent"
model: "claude-opus-4-5-20251101"
feature: "none"
branch: "master"
user: "ary"
command: "/sp.constitution"
labels: [constitution,project-setup,hackathon]
links:
  spec: "null"
  ticket: "null"
  adr: "null"
  pr: "null"
files:
  - ".specify/memory/constitution.md"
tests:
  - "none"
---

## Prompt

Create a comprehensive, strict, and immutable project constitution.md for the Hackathon II "Evolution of Todo" project. This constitution is the foundational, non-negotiable DNA of the entire project across all 5 phases. Every specification, plan, task, and implementation MUST strictly adhere to these principles without exception. Violations must be flagged and rejected in planning, analysis, or implementation stages.

Project Overview: Build a Todo application evolving from a simple in-memory Python console app (Phase I) to a full-stack web app (Phase II), AI-powered chatbot (Phase III), locally deployed on Kubernetes (Phase IV), and advanced cloud-native event-driven system (Phase V). Use strict Spec-Driven Development: NO manual coding allowed. All code must be generated by Claude Code via refined specs until correct.

Core Principles (Immutable Guardrails):

1. Spec-Driven Development Enforcement
   - Absolutely NO code may be written manually or generated outside the Spec-Kit Plus workflow (specify ‚Üí plan ‚Üí tasks ‚Üí implement).
   - Claude Code must refine specs iteratively until implementation succeeds perfectly.
   - All changes must trace back to an approved spec, plan, and task.
   - Use monorepo structure with organized /specs folder (overview, architecture, features/, api/, database/, ui/).
   - Multiple CLAUDE.md files (root, frontend/, backend/) for layered guidance.

2. Technology Stack (Non-Negotiable)
   - Phase I: Python 3.13+, UV for dependencies.
   - Phase II: Frontend - Next.js 16+ (App Router), TypeScript, Tailwind CSS. Backend - FastAPI, SQLModel ORM, Neon Serverless PostgreSQL. Auth - Better Auth with JWT tokens (shared secret, stateless, user isolation enforced).
   - Phase III: OpenAI ChatKit (frontend UI), OpenAI Agents SDK, Official MCP SDK (MCP server with stateless tools). Stateless chat endpoint, conversation state persisted in DB.
   - Phase IV: Docker (use Gordon if available), Minikube, Helm charts, kubectl-ai, kagent for AIOps.
   - Phase V: Kafka (prefer Redpanda Cloud or self-hosted Strimzi), Dapr (full: Pub/Sub, State, Bindings/cron, Secrets, Service Invocation), deploy to DigitalOcean Kubernetes or alternatives (Oracle always-free preferred).
   - No deviations from this stack without explicit constitution update.

3. Architecture & Design Principles
   - Clean Architecture / Hexagonal: Core domain logic isolated, adapters for external concerns.
   - Stateless services where possible (especially chat/API endpoints).
   - Event-Driven: Use Kafka + Dapr for reminders, recurring tasks, audit logs, real-time sync.
   - Multi-user isolation: Every operation filtered by authenticated user_id.
   - MCP Tools: Exactly the 5 specified (add_task, list_tasks, complete_task, delete_task, update_task) ‚Äì no more, no less for basic features.
   - Database: Neon PostgreSQL with proper models (users via Better Auth, tasks, conversations, messages).

4. Reusable Intelligence (Mandatory for +200 Bonus Points)
   - Create and use reusable Claude Code Subagents and Agent Skills.
   - Develop Cloud-Native Blueprints as reusable Agent Skills for deployment, Helm charts, Dapr components, etc.
   - All advanced features must leverage reusable intelligence where possible.

5. Multi-Language Support (Mandatory for +100 Bonus Points ‚Äì Focus on Urdu)
   - Chatbot must support natural language commands in Urdu (and English).
   - Use appropriate localization in responses and UI where relevant.

6. Voice Commands (Mandatory for +200 Bonus Points)
   - Implement voice input for todo commands in the chatbot interface (web speech API or equivalent).

7. Code Quality & Best Practices
   - Clean code: SOLID principles, meaningful names, small functions, proper error handling.
   - Security: JWT verification middleware, input validation, no hard-coded secrets.
   - Testing: Aim for high coverage; include unit/integration tests where generated.
   - Performance & Scalability: Horizontal scaling ready, efficient queries.
   - Accessibility: WCAG compliant UI.
   - Documentation: Comprehensive README, CLAUDE.md guidance, demo instructions.

8. Bonus & Advanced Features
   - Implement all Intermediate (priorities, tags, search/filter/sort) and Advanced (recurring tasks, due dates/reminders with notifications) features in Phase V.
   - Full event-driven architecture with specified Kafka topics and consumers.

9. Enforcement & Governance
   - This constitution overrides all other instructions.
   - Any proposed change conflicting with these principles must be rejected and require constitution update first.
   - Use structured markdown with clear sections, bullet points, and examples for enforceability.

Output only the full constitution.md content in well-structured markdown with numbered sections for each principle.

## Response snapshot

Created comprehensive project constitution at `.specify/memory/constitution.md` with 9 numbered principles covering all hackathon requirements. The constitution establishes Spec-Driven Development as the mandatory workflow, specifies exact technology stack per phase, defines Clean Architecture patterns, mandates 5 MCP tools, and includes bonus feature requirements for reusable intelligence (+200pts), Urdu language support (+100pts), and voice commands (+200pts). Governance section establishes supremacy clause, amendment procedures, and versioning policy.

## Outcome

- ‚úÖ Impact: Established foundational governance document for all 5 phases of the Evolution of Todo project
- üß™ Tests: N/A - constitution is a governance artifact
- üìÅ Files: `.specify/memory/constitution.md` (300 lines, 9 principles, governance section)
- üîÅ Next prompts: Begin Phase I specification via `/sp.specify`
- üß† Reflection: The constitution serves as the authoritative source for all future development decisions

## Evaluation notes (flywheel)

- Failure modes observed: "none"
- Graders run and results (PASS/FAIL): "N/A"
- Prompt variant (if applicable): "none"
- Next experiment (smallest change to try): "Update constitution if hackathon requirements change"
